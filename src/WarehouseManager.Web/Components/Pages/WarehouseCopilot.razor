<h2>AI Assistant</h2>
<p>Ask me about items, events, or rentals.</p>

<div class="chat-card">
    <div class="chat-window">
        @if (!_messages.Any())
        {
            <div class="empty-state">
                <p>Start a conversation...</p>
            </div>
        }
        else
        {
            @foreach (var m in _messages)
            {
                <div class="chat-row @(m.FromUser ? "user" : "bot")">
                    <div class="bubble">
                        <div class="meta">
                            @(m.FromUser ? "You" : "AI") - @m.At.ToString("HH:mm")
                        </div>
                        <div class="text">@m.Text</div>
                    </div>
                </div>
            }
        }
    </div>
    <div style="padding: 10px; border-top: 1px solid #ddd;">
        <input type="text" placeholder="Type your message..." @bind="_draft" @onkeydown="HandleKeyDown" 
               style="width: 80%; padding: 8px; border: 1px solid #ccc; border-radius: 3px;" />
        <button @onclick="Send" style="padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 3px; margin-left: 5px;">
            Send
        </button>
    </div>
</div>
